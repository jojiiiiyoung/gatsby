{"version":3,"sources":["webpack://gatsby-starter-default/./src/hook/useA2HS.ts","webpack://gatsby-starter-default/./src/components/a2hs.tsx","webpack://gatsby-starter-default/./src/pages/index.js"],"names":["useState","promtEvent","setPromptEvent","useEffect","handler","e","preventDefault","window","addEventListener","removeEventListener","clearPromtEvent","install","prompt","userChoice","then","choiceResult","A2HS","useA2HS","handleCancel","useCallback","style","display","position","bottom","right","backgroundColor","padding","marginRight","color","onClick","data","title","site","siteMetadata","description","S","src","width","quality","formats","alt","marginBottom","Link","to"],"mappings":"+oDA6CA,EAlCgB,WACd,OAGIA,cAA0C,MAF5CC,EADF,KAEEC,EAFF,MAKAC,gBAAU,WACR,IAAMC,EAAU,SAACC,GACfA,EAAEC,iBACFJ,EAAeG,IAKjB,OAFEE,OAAeC,iBAAiB,sBAAuBJ,GAElD,WACHG,OAAeE,oBAAoB,sBAAuBL,MAE7D,IAEH,IAAMM,EAAkB,WACtBR,EAAe,OAWjB,MAAO,CAAED,aAAYU,QARL,WACdV,WAAYW,SAEZX,WAAYY,WAAWC,MAAK,SAAAC,GAC1BL,QAI0BA,oBCtCjB,SAASM,IACtB,MAAiDC,IAAzChB,EAAR,EAAQA,WAAYU,EAApB,EAAoBA,QAASD,EAA7B,EAA6BA,gBAEvBQ,GAAeC,kBAAY,WAC/BT,MACC,CAACA,IAEJ,OAAOT,EACL,uBACEmB,MAAO,CACLC,QAAS,OACTC,SAAU,QACVC,OAAQ,MACRC,MAAO,MACPC,gBAAiB,QACjBC,QAAS,SAGX,0BACEN,MAAO,CAAEO,YAAa,MAAOF,gBAAiB,QAASG,MAAO,SAC9DC,QAASX,GAFX,MAMA,0BACEE,MAAO,CAAEK,gBAAiB,QAASG,MAAO,SAC1CC,QAASlB,GAFX,SAOA,KC3BN,IAsBA,EAtBkB,SAAC,GAAD,IAAGmB,EAAH,EAAGA,KAAH,OAChB,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKC,MAAM,SACX,gDAAwBD,EAAKE,KAAKC,aAAaC,aAG/C,gBAAC,EAAAC,EAAD,CACEC,IAAI,iCACJC,MAAO,IACPC,QAAS,GACTC,QAAS,CAAC,OAAQ,OAAQ,QAC1BC,IAAI,qBACJpB,MAAO,CAAEqB,aAAa,WANxB,sBAQA,yBACE,gBAAC,EAAAC,KAAD,CAAMC,GAAG,YAAT,gBADF,IAC0C,2BACxC,gBAAC,EAAAD,KAAD,CAAMC,GAAG,sBAAT,6BAEF,gBAAC3B,EAAD","file":"component---src-pages-index-js-6168d28ee50525cebe26.js","sourcesContent":["import { useEffect, useState } from \"react\"\n\ninterface BeforeInstallPromptEvent extends Event {\n  readonly platforms: string[]\n  readonly userChoice: Promise<{\n    outcome: \"accepted\" | \"dismissed\"\n    platform: string\n  }>\n  prompt(): Promise<void>\n}\n\nconst useA2HS = () => {\n  const [\n    promtEvent,\n    setPromptEvent,\n  ] = useState<BeforeInstallPromptEvent | null>(null)\n\n  useEffect(() => {\n    const handler = (e: BeforeInstallPromptEvent) => {\n      e.preventDefault()\n      setPromptEvent(e)\n    }\n\n    ;(window as any).addEventListener(\"beforeinstallprompt\", handler)\n\n    return () => {\n      ;(window as any).removeEventListener(\"beforeinstallprompt\", handler)\n    }\n  }, [])\n\n  const clearPromtEvent = () => {\n    setPromptEvent(null)\n  }\n\n  const install = () => {\n    promtEvent?.prompt()\n    // Wait for the user to respond to the prompt\n    promtEvent?.userChoice.then(choiceResult => {\n      clearPromtEvent()\n    })\n  }\n\n  return { promtEvent, install, clearPromtEvent }\n}\n\nexport default useA2HS\n","import React from \"react\"\nimport { useCallback, useEffect } from \"react\"\nimport useA2HS from \"../hook/useA2HS\"\n\nexport default function A2HS() {\n  const { promtEvent, install, clearPromtEvent } = useA2HS()\n\n  const handleCancel = useCallback(() => {\n    clearPromtEvent()\n  }, [clearPromtEvent])\n\n  return promtEvent ? (\n    <div\n      style={{\n        display: \"flex\",\n        position: \"fixed\",\n        bottom: \"0px\",\n        right: \"0px\",\n        backgroundColor: \"white\",\n        padding: \"10px\",\n      }}\n    >\n      <button\n        style={{ marginRight: \"8px\", backgroundColor: \"black\", color: \"white\" }}\n        onClick={handleCancel}\n      >\n        취소\n      </button>\n      <button\n        style={{ backgroundColor: \"black\", color: \"white\" }}\n        onClick={install}\n      >\n        추가하기\n      </button>\n    </div>\n  ) : null\n}\n","import * as React from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport { StaticImage } from \"gatsby-plugin-image\"\n\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport A2HS from \"../components/a2hs\"\n\nconst IndexPage = ({ data }) => (\n  <Layout>\n    <Seo title=\"Home\" />\n    <h1>Hi jojiiiiyoung!!! {data.site.siteMetadata.description}</h1>\n    {/* <p>Welcome to your new Gatsby site.</p>\n    <p>Now go build something great.</p> */}\n    <StaticImage\n      src=\"../images/gatsby-astronaut.png\"\n      width={300}\n      quality={95}\n      formats={[\"AUTO\", \"WEBP\", \"AVIF\"]}\n      alt=\"A Gatsby astronaut\"\n      style={{ marginBottom: `1.45rem` }}\n    />\n    <p>\n      <Link to=\"/page-2/\">Go to page 2</Link> <br />\n      <Link to=\"/using-typescript/\">Go to \"Using TypeScript\"</Link>\n    </p>\n    <A2HS />\n  </Layout>\n)\n\nexport default IndexPage\n\nexport const query = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allFile {\n      totalCount\n    }\n  }\n`\n"],"sourceRoot":""}